#redis加锁
一般来说, 在对数据进行'加锁时', 程序首先需要通过获取锁来得到对数据进行排他性访问的能力, 然后才能对数据执行一系列操作, 最后还要将锁释放给其他程序.对于能够被多个线程访问的共享内存数据结果来说, 这种"先获取锁,然后执行操作,最后释放锁"的动作非常常见.Redis使用Watch命令来代替对数据进行加锁, 因为Watch只会在数据被其他客户端抢先修改了的情况下通知执行了这个命令的客户端,而不会组织其他客户端对数据进行修改, 所以这个命令被称为乐观锁.